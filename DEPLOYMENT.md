# Ø±Ø§Ù‡Ù†Ù…Ø§ÛŒ Ú©Ø§Ù…Ù„ Ø¯ÛŒÙ¾Ù„ÙˆÛŒ Ù¾Ø±ÙˆÚ˜Ù‡ ØªØ­Ù„ÛŒÙ„ Ù†Ù‚Ø´Ù‡â€ŒÙ‡Ø§ÛŒ Ù…Ø¹Ù…Ø§Ø±ÛŒ

## ğŸ“‹ ÙÙ‡Ø±Ø³Øª Ù…Ø·Ø§Ù„Ø¨
- [Ù…Ø¹Ø±ÙÛŒ Ù¾Ø±ÙˆÚ˜Ù‡](#Ù…Ø¹Ø±ÙÛŒ-Ù¾Ø±ÙˆÚ˜Ù‡)
- [Ù¾ÛŒØ´â€ŒÙ†ÛŒØ§Ø²Ù‡Ø§](#Ù¾ÛŒØ´Ù†ÛŒØ§Ø²Ù‡Ø§)
- [Ù†ØµØ¨ Ùˆ Ø±Ø§Ù‡â€ŒØ§Ù†Ø¯Ø§Ø²ÛŒ](#Ù†ØµØ¨-Ùˆ-Ø±Ø§Ù‡Ø§Ù†Ø¯Ø§Ø²ÛŒ)
- [Ù¾ÛŒÚ©Ø±Ø¨Ù†Ø¯ÛŒ Ù…Ø­ÛŒØ·](#Ù¾ÛŒÚ©Ø±Ø¨Ù†Ø¯ÛŒ-Ù…Ø­ÛŒØ·)
- [Ø¯ÛŒÙ¾Ù„ÙˆÛŒ Ø±ÙˆÛŒ VPS](#Ø¯ÛŒÙ¾Ù„ÙˆÛŒ-Ø±ÙˆÛŒ-vps)
- [ØªÙ†Ø¸ÛŒÙ…Ø§Øª Nginx](#ØªÙ†Ø¸ÛŒÙ…Ø§Øª-nginx)
- [ØªÙ†Ø¸ÛŒÙ…Ø§Øª SSL](#ØªÙ†Ø¸ÛŒÙ…Ø§Øª-ssl)
- [Ù…Ø¯ÛŒØ±ÛŒØª Ù¾Ø±ÙˆØ³Ù‡](#Ù…Ø¯ÛŒØ±ÛŒØª-Ù¾Ø±ÙˆØ³Ù‡)
- [Ù…Ø§Ù†ÛŒØªÙˆØ±ÛŒÙ†Ú¯ Ùˆ Ù„Ø§Ú¯](#Ù…Ø§Ù†ÛŒØªÙˆØ±ÛŒÙ†Ú¯-Ùˆ-Ù„Ø§Ú¯)
- [Ø¨Ú©â€ŒØ¢Ù¾ Ùˆ Ø§Ù…Ù†ÛŒØª](#Ø¨Ú©Ø¢Ù¾-Ùˆ-Ø§Ù…Ù†ÛŒØª)
- [Ø¹ÛŒØ¨â€ŒÛŒØ§Ø¨ÛŒ](#Ø¹ÛŒØ¨ÛŒØ§Ø¨ÛŒ)

---

## ğŸ—ï¸ Ù…Ø¹Ø±ÙÛŒ Ù¾Ø±ÙˆÚ˜Ù‡

Ø§ÛŒÙ† Ù¾Ø±ÙˆÚ˜Ù‡ ÛŒÚ© Ø§Ø¨Ø²Ø§Ø± Ù‡ÙˆØ´Ù…Ù†Ø¯ ØªØ­Ù„ÛŒÙ„ Ù†Ù‚Ø´Ù‡â€ŒÙ‡Ø§ÛŒ Ù…Ø¹Ù…Ø§Ø±ÛŒ Ø§Ø³Øª Ú©Ù‡ Ø¨Ø§ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø§Ø² Ù‡ÙˆØ´ Ù…ØµÙ†ÙˆØ¹ÛŒ (GPT-4o) Ù†Ù‚Ø´Ù‡â€ŒÙ‡Ø§ÛŒ Ù…Ø¹Ù…Ø§Ø±ÛŒ Ø±Ø§ ØªØ­Ù„ÛŒÙ„ Ù…ÛŒâ€ŒÚ©Ù†Ø¯ Ùˆ Ú¯Ø²Ø§Ø±Ø´â€ŒÙ‡Ø§ÛŒ ØªØ®ØµØµÛŒ Ø§Ø±Ø§Ø¦Ù‡ Ù…ÛŒâ€ŒØ¯Ù‡Ø¯.

### ÙˆÛŒÚ˜Ú¯ÛŒâ€ŒÙ‡Ø§ÛŒ Ú©Ù„ÛŒØ¯ÛŒ:
- **ØªØ­Ù„ÛŒÙ„ Ù‡ÙˆØ´Ù…Ù†Ø¯**: Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø§Ø² OpenAI GPT-4o Ø¨Ø±Ø§ÛŒ ØªØ­Ù„ÛŒÙ„ Ù†Ù‚Ø´Ù‡â€ŒÙ‡Ø§
- **UI Ù…Ø¯Ø±Ù†**: Ø±Ø§Ø¨Ø· Ú©Ø§Ø±Ø¨Ø±ÛŒ Ø²ÛŒØ¨Ø§ Ø¨Ø§ Tailwind CSS Ùˆ RTL
- **Ù¾Ø´ØªÛŒØ¨Ø§Ù†ÛŒ Ø§Ø² Ø´Ù‡Ø±Ù‡Ø§ÛŒ Ø§ÛŒØ±Ø§Ù†**: ØªØ­Ù„ÛŒÙ„ Ø§Ù‚Ù„ÛŒÙ…ÛŒ Ø¨Ø± Ø§Ø³Ø§Ø³ Ø´Ù‡Ø± Ø§Ù†ØªØ®Ø§Ø¨ Ø´Ø¯Ù‡
- **Ø³ÛŒØ³ØªÙ… Ù†Ù…Ø±Ù‡â€ŒØ¯Ù‡ÛŒ**: Ø§Ø±Ø²ÛŒØ§Ø¨ÛŒ Ú†Ù†Ø¯Ø¨Ø¹Ø¯ÛŒ Ø¨Ø§ 4 Ù…Ø¹ÛŒØ§Ø± Ù…Ø®ØªÙ„Ù
- **Ù¾Ø´ØªÛŒØ¨Ø§Ù†ÛŒ Ø§Ø² ÙØ§ÛŒÙ„â€ŒÙ‡Ø§ÛŒ ØªØµÙˆÛŒØ±ÛŒ**: Ø¢Ù¾Ù„ÙˆØ¯ Ùˆ Ù¾Ø±Ø¯Ø§Ø²Ø´ Ù†Ù‚Ø´Ù‡â€ŒÙ‡Ø§

### ØªÚ©Ù†ÙˆÙ„ÙˆÚ˜ÛŒâ€ŒÙ‡Ø§ÛŒ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø´Ø¯Ù‡:
- **Frontend**: Next.js 14, React 18, TypeScript
- **Styling**: Tailwind CSS v4
- **Backend**: Next.js API Routes
- **AI**: OpenAI GPT-4o API
- **Deployment**: Node.js, PM2, Nginx

---

## ğŸ”§ Ù¾ÛŒØ´â€ŒÙ†ÛŒØ§Ø²Ù‡Ø§

### Ø³ÛŒØ³ØªÙ… Ø¹Ø§Ù…Ù„
```bash
# Ubuntu 20.04+ ÛŒØ§ CentOS 8+
# Ø­Ø¯Ø§Ù‚Ù„ Ù…Ø´Ø®ØµØ§Øª:
- CPU: 2 Core
- RAM: 4GB
- Storage: 20GB
- Network: 100Mbps
```

### Ù†Ø±Ù…â€ŒØ§ÙØ²Ø§Ø±Ù‡Ø§ÛŒ Ù…ÙˆØ±Ø¯ Ù†ÛŒØ§Ø²
```bash
# Node.js 18+ (LTS)
curl -fsSL https://deb.nodesource.com/setup_18.x | sudo -E bash -
sudo apt-get install -y nodejs

# Git
sudo apt update
sudo apt install git

# Nginx
sudo apt install nginx

# PM2 (Process Manager)
sudo npm install -g pm2

# Certbot (Ø¨Ø±Ø§ÛŒ SSL)
sudo apt install certbot python3-certbot-nginx
```

### Ø¨Ø±Ø±Ø³ÛŒ Ù†ØµØ¨
```bash
# Ø¨Ø±Ø±Ø³ÛŒ Ù†Ø³Ø®Ù‡â€ŒÙ‡Ø§
node --version    # Ø¨Ø§ÛŒØ¯ 18.x.x Ø¨Ø§Ø´Ø¯
npm --version     # Ø¨Ø§ÛŒØ¯ 9.x.x Ø¨Ø§Ø´Ø¯
git --version
nginx -v
pm2 --version
```

---

## ğŸ“¦ Ù†ØµØ¨ Ùˆ Ø±Ø§Ù‡â€ŒØ§Ù†Ø¯Ø§Ø²ÛŒ

### 1. Ú©Ù„ÙˆÙ† Ú©Ø±Ø¯Ù† Ù¾Ø±ÙˆÚ˜Ù‡
```bash
# Ø§ÛŒØ¬Ø§Ø¯ Ø¯Ø§ÛŒØ±Ú©ØªÙˆØ±ÛŒ Ù¾Ø±ÙˆÚ˜Ù‡
sudo mkdir -p /var/www/design-ai
sudo chown $USER:$USER /var/www/design-ai
cd /var/www/design-ai

# Ú©Ù„ÙˆÙ† Ú©Ø±Ø¯Ù† Ø§Ø² GitHub
git clone https://github.com/arashdm2020/Desing-AI.git .
```

### 2. Ù†ØµØ¨ ÙˆØ§Ø¨Ø³ØªÚ¯ÛŒâ€ŒÙ‡Ø§
```bash
# Ù†ØµØ¨ dependencies
npm install

# Ù†ØµØ¨ dependencies ØªÙˆÙ„ÛŒØ¯
npm run build
```

### 3. ØªØ³Øª Ù…Ø­Ù„ÛŒ
```bash
# Ø§Ø¬Ø±Ø§ÛŒ ØªØ³Øª
npm run dev
# Ù¾Ø±ÙˆÚ˜Ù‡ Ø±ÙˆÛŒ http://localhost:3000 Ø¯Ø± Ø¯Ø³ØªØ±Ø³ Ø®ÙˆØ§Ù‡Ø¯ Ø¨ÙˆØ¯
```

---

## âš™ï¸ Ù¾ÛŒÚ©Ø±Ø¨Ù†Ø¯ÛŒ Ù…Ø­ÛŒØ·

### 1. ÙØ§ÛŒÙ„ Environment Variables
```bash
# Ø§ÛŒØ¬Ø§Ø¯ ÙØ§ÛŒÙ„ .env.local
nano .env.local
```

```env
# OpenAI API Configuration
OPENAI_API_KEY=your_openai_api_key_here

# Next.js Configuration
NODE_ENV=production
NEXT_PUBLIC_APP_URL=https://your-domain.com

# Database (Ø§Ú¯Ø± Ù†ÛŒØ§Ø² Ø¨Ø§Ø´Ø¯)
# DATABASE_URL=your_database_url

# Security
NEXTAUTH_SECRET=your_nextauth_secret_here
NEXTAUTH_URL=https://your-domain.com
```

### 2. ØªÙ†Ø¸ÛŒÙ…Ø§Øª Next.js
```javascript
// next.config.js
/** @type {import('next').NextConfig} */
const nextConfig = {
  output: 'standalone',
  experimental: {
    serverComponentsExternalPackages: ['sharp']
  },
  images: {
    domains: ['localhost'],
    formats: ['image/webp', 'image/avif']
  },
  env: {
    CUSTOM_KEY: process.env.CUSTOM_KEY,
  },
}

module.exports = nextConfig
```

### 3. ØªÙ†Ø¸ÛŒÙ…Ø§Øª PM2
```bash
# Ø§ÛŒØ¬Ø§Ø¯ ÙØ§ÛŒÙ„ ecosystem.config.js
nano ecosystem.config.js
```

```javascript
module.exports = {
  apps: [{
    name: 'design-ai',
    script: 'npm',
    args: 'start',
    cwd: '/var/www/design-ai',
    instances: 'max',
    exec_mode: 'cluster',
    env: {
      NODE_ENV: 'production',
      PORT: 3000
    },
    env_production: {
      NODE_ENV: 'production',
      PORT: 3000
    },
    error_file: '/var/log/pm2/design-ai-error.log',
    out_file: '/var/log/pm2/design-ai-out.log',
    log_file: '/var/log/pm2/design-ai-combined.log',
    time: true,
    max_memory_restart: '1G',
    min_uptime: '10s',
    max_restarts: 10,
    watch: false,
    ignore_watch: ['node_modules', 'logs']
  }]
}
```

---

## ğŸš€ Ø¯ÛŒÙ¾Ù„ÙˆÛŒ Ø±ÙˆÛŒ VPS

### 1. Ø¢Ù…Ø§Ø¯Ù‡â€ŒØ³Ø§Ø²ÛŒ Ø³Ø±ÙˆØ±
```bash
# Ø¨Ù‡â€ŒØ±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ Ø³ÛŒØ³ØªÙ…
sudo apt update && sudo apt upgrade -y

# Ù†ØµØ¨ Ù¾ÛŒØ´â€ŒÙ†ÛŒØ§Ø²Ù‡Ø§
sudo apt install -y curl wget unzip software-properties-common apt-transport-https ca-certificates gnupg lsb-release

# Ù†ØµØ¨ Node.js
curl -fsSL https://deb.nodesource.com/setup_18.x | sudo -E bash -
sudo apt-get install -y nodejs

# Ù†ØµØ¨ Git
sudo apt install git

# Ù†ØµØ¨ Nginx
sudo apt install nginx

# Ù†ØµØ¨ PM2
sudo npm install -g pm2
```

### 2. Ø§ÛŒØ¬Ø§Ø¯ Ú©Ø§Ø±Ø¨Ø± Ø³ÛŒØ³ØªÙ…
```bash
# Ø§ÛŒØ¬Ø§Ø¯ Ú©Ø§Ø±Ø¨Ø± Ø¬Ø¯ÛŒØ¯
sudo adduser design-ai
sudo usermod -aG sudo design-ai

# ØªØºÛŒÛŒØ± Ø¨Ù‡ Ú©Ø§Ø±Ø¨Ø± Ø¬Ø¯ÛŒØ¯
su - design-ai
```

### 3. Ú©Ù„ÙˆÙ† Ùˆ Ù†ØµØ¨ Ù¾Ø±ÙˆÚ˜Ù‡
```bash
# Ø§ÛŒØ¬Ø§Ø¯ Ø¯Ø§ÛŒØ±Ú©ØªÙˆØ±ÛŒ
sudo mkdir -p /var/www/design-ai
sudo chown design-ai:design-ai /var/www/design-ai
cd /var/www/design-ai

# Ú©Ù„ÙˆÙ† Ù¾Ø±ÙˆÚ˜Ù‡
git clone https://github.com/arashdm2020/Desing-AI.git .

# Ù†ØµØ¨ dependencies
npm install

# Build Ù¾Ø±ÙˆÚ˜Ù‡
npm run build

# ØªØ³Øª Ø§Ø¬Ø±Ø§
npm start
```

### 4. ØªÙ†Ø¸ÛŒÙ… PM2
```bash
# Ø§ÛŒØ¬Ø§Ø¯ Ø¯Ø§ÛŒØ±Ú©ØªÙˆØ±ÛŒ Ù„Ø§Ú¯
sudo mkdir -p /var/log/pm2
sudo chown design-ai:design-ai /var/log/pm2

# Ø§Ø¬Ø±Ø§ Ø¨Ø§ PM2
pm2 start ecosystem.config.js --env production

# Ø°Ø®ÛŒØ±Ù‡ ØªÙ†Ø¸ÛŒÙ…Ø§Øª PM2
pm2 save
pm2 startup

# Ø¨Ø±Ø±Ø³ÛŒ ÙˆØ¶Ø¹ÛŒØª
pm2 status
pm2 logs design-ai
```

---

## ğŸŒ ØªÙ†Ø¸ÛŒÙ…Ø§Øª Nginx

### 1. Ø§ÛŒØ¬Ø§Ø¯ ÙØ§ÛŒÙ„ Ú©Ø§Ù†ÙÛŒÚ¯
```bash
sudo nano /etc/nginx/sites-available/design-ai
```

```nginx
server {
    listen 80;
    server_name your-domain.com www.your-domain.com;
    
    # Security headers
    add_header X-Frame-Options "SAMEORIGIN" always;
    add_header X-XSS-Protection "1; mode=block" always;
    add_header X-Content-Type-Options "nosniff" always;
    add_header Referrer-Policy "no-referrer-when-downgrade" always;
    add_header Content-Security-Policy "default-src 'self' http: https: data: blob: 'unsafe-inline'" always;
    
    # Gzip compression
    gzip on;
    gzip_vary on;
    gzip_min_length 1024;
    gzip_proxied expired no-cache no-store private must-revalidate auth;
    gzip_types text/plain text/css text/xml text/javascript application/x-javascript application/xml+rss application/javascript;
    
    # Client max body size (Ø¨Ø±Ø§ÛŒ Ø¢Ù¾Ù„ÙˆØ¯ ÙØ§ÛŒÙ„â€ŒÙ‡Ø§ÛŒ Ø¨Ø²Ø±Ú¯)
    client_max_body_size 50M;
    
    # Proxy settings
    location / {
        proxy_pass http://localhost:3000;
        proxy_http_version 1.1;
        proxy_set_header Upgrade $http_upgrade;
        proxy_set_header Connection 'upgrade';
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
        proxy_cache_bypass $http_upgrade;
        proxy_read_timeout 300s;
        proxy_connect_timeout 75s;
    }
    
    # Static files caching
    location /_next/static/ {
        proxy_pass http://localhost:3000;
        expires 1y;
        add_header Cache-Control "public, immutable";
    }
    
    # API routes
    location /api/ {
        proxy_pass http://localhost:3000;
        proxy_http_version 1.1;
        proxy_set_header Upgrade $http_upgrade;
        proxy_set_header Connection 'upgrade';
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
        proxy_cache_bypass $http_upgrade;
        proxy_read_timeout 300s;
        proxy_connect_timeout 75s;
    }
    
    # Health check
    location /health {
        access_log off;
        return 200 "healthy\n";
        add_header Content-Type text/plain;
    }
}
```

### 2. ÙØ¹Ø§Ù„â€ŒØ³Ø§Ø²ÛŒ Ø³Ø§ÛŒØª
```bash
# Ø§ÛŒØ¬Ø§Ø¯ symbolic link
sudo ln -s /etc/nginx/sites-available/design-ai /etc/nginx/sites-enabled/

# Ø­Ø°Ù default site
sudo rm /etc/nginx/sites-enabled/default

# ØªØ³Øª Ú©Ø§Ù†ÙÛŒÚ¯
sudo nginx -t

# restart Nginx
sudo systemctl restart nginx
sudo systemctl enable nginx
```

---

## ğŸ”’ ØªÙ†Ø¸ÛŒÙ…Ø§Øª SSL

### 1. Ù†ØµØ¨ Certbot
```bash
# Ù†ØµØ¨ Certbot
sudo apt install certbot python3-certbot-nginx

# Ø¯Ø±ÛŒØ§ÙØª SSL certificate
sudo certbot --nginx -d your-domain.com -d www.your-domain.com

# ØªØ³Øª auto-renewal
sudo certbot renew --dry-run
```

### 2. ØªÙ†Ø¸ÛŒÙ…Ø§Øª Ø§Ù…Ù†ÛŒØªÛŒ Ø§Ø¶Ø§ÙÛŒ
```bash
# ØªÙ†Ø¸ÛŒÙ… UFW Firewall
sudo ufw allow ssh
sudo ufw allow 'Nginx Full'
sudo ufw enable

# Ø¨Ø±Ø±Ø³ÛŒ ÙˆØ¶Ø¹ÛŒØª
sudo ufw status
```

---

## ğŸ“Š Ù…Ø¯ÛŒØ±ÛŒØª Ù¾Ø±ÙˆØ³Ù‡

### 1. Ø¯Ø³ØªÙˆØ±Ø§Øª PM2
```bash
# Ù…Ø´Ø§Ù‡Ø¯Ù‡ ÙˆØ¶Ø¹ÛŒØª
pm2 status

# Ù…Ø´Ø§Ù‡Ø¯Ù‡ Ù„Ø§Ú¯â€ŒÙ‡Ø§
pm2 logs design-ai

# Restart Ù¾Ø±ÙˆÚ˜Ù‡
pm2 restart design-ai

# Stop Ù¾Ø±ÙˆÚ˜Ù‡
pm2 stop design-ai

# Start Ù¾Ø±ÙˆÚ˜Ù‡
pm2 start design-ai

# Reload (Ø¨Ø¯ÙˆÙ† downtime)
pm2 reload design-ai

# Ø­Ø°Ù Ø§Ø² PM2
pm2 delete design-ai

# Ù…Ø´Ø§Ù‡Ø¯Ù‡ Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ø³ÛŒØ³ØªÙ…
pm2 monit
```

### 2. Ù…Ø¯ÛŒØ±ÛŒØª Ø®ÙˆØ¯Ú©Ø§Ø±
```bash
# ØªÙ†Ø¸ÛŒÙ… auto-restart
pm2 startup
pm2 save

# Ø¨Ø±Ø±Ø³ÛŒ cron job
sudo crontab -l
```

### 3. Update Ù¾Ø±ÙˆÚ˜Ù‡
```bash
# Ø§ÛŒØ¬Ø§Ø¯ script Ø¨Ø±Ø§ÛŒ update
nano update.sh
```

```bash
#!/bin/bash
cd /var/www/design-ai

# Backup
cp -r .env.local .env.backup

# Pull ØªØºÛŒÛŒØ±Ø§Øª
git pull origin main

# Ù†ØµØ¨ dependencies Ø¬Ø¯ÛŒØ¯
npm install

# Build Ø¬Ø¯ÛŒØ¯
npm run build

# Restart Ø¨Ø§ PM2
pm2 restart design-ai

echo "Update completed successfully!"
```

```bash
# Ù‚Ø§Ø¨Ù„ Ø§Ø¬Ø±Ø§ Ú©Ø±Ø¯Ù† script
chmod +x update.sh
```

---

## ğŸ“ˆ Ù…Ø§Ù†ÛŒØªÙˆØ±ÛŒÙ†Ú¯ Ùˆ Ù„Ø§Ú¯

### 1. ØªÙ†Ø¸ÛŒÙ…Ø§Øª Ù„Ø§Ú¯
```bash
# Ø§ÛŒØ¬Ø§Ø¯ Ø¯Ø§ÛŒØ±Ú©ØªÙˆØ±ÛŒ Ù„Ø§Ú¯
sudo mkdir -p /var/log/design-ai
sudo chown design-ai:design-ai /var/log/design-ai

# ØªÙ†Ø¸ÛŒÙ… logrotate
sudo nano /etc/logrotate.d/design-ai
```

```text
/var/log/design-ai/*.log {
    daily
    missingok
    rotate 52
    compress
    delaycompress
    notifempty
    create 644 design-ai design-ai
    postrotate
        pm2 reloadLogs
    endscript
}
```

### 2. Ù…Ø§Ù†ÛŒØªÙˆØ±ÛŒÙ†Ú¯ Ø³ÛŒØ³ØªÙ…
```bash
# Ù†ØµØ¨ htop
sudo apt install htop

# Ù†ØµØ¨ netdata (Ø§Ø®ØªÛŒØ§Ø±ÛŒ)
bash <(curl -Ss https://my-netdata.io/kickstart.sh)
```

### 3. Health Check
```bash
# Ø§ÛŒØ¬Ø§Ø¯ script health check
nano health-check.sh
```

```bash
#!/bin/bash
URL="http://localhost:3000/health"
RESPONSE=$(curl -s -o /dev/null -w "%{http_code}" $URL)

if [ $RESPONSE -eq 200 ]; then
    echo "Application is healthy"
    exit 0
else
    echo "Application is not responding"
    pm2 restart design-ai
    exit 1
fi
```

```bash
# Ø§Ø¶Ø§ÙÙ‡ Ú©Ø±Ø¯Ù† Ø¨Ù‡ cron
crontab -e
# Ù‡Ø± 5 Ø¯Ù‚ÛŒÙ‚Ù‡
*/5 * * * * /var/www/design-ai/health-check.sh
```

---

## ğŸ’¾ Ø¨Ú©â€ŒØ¢Ù¾ Ùˆ Ø§Ù…Ù†ÛŒØª

### 1. Ø§Ø³ØªØ±Ø§ØªÚ˜ÛŒ Ø¨Ú©â€ŒØ¢Ù¾
```bash
# Ø§ÛŒØ¬Ø§Ø¯ script Ø¨Ú©â€ŒØ¢Ù¾
nano backup.sh
```

```bash
#!/bin/bash
DATE=$(date +%Y%m%d_%H%M%S)
BACKUP_DIR="/var/backups/design-ai"
SOURCE_DIR="/var/www/design-ai"

# Ø§ÛŒØ¬Ø§Ø¯ Ø¯Ø§ÛŒØ±Ú©ØªÙˆØ±ÛŒ Ø¨Ú©â€ŒØ¢Ù¾
mkdir -p $BACKUP_DIR

# Ø¨Ú©â€ŒØ¢Ù¾ ÙØ§ÛŒÙ„â€ŒÙ‡Ø§ÛŒ Ù¾Ø±ÙˆÚ˜Ù‡
tar -czf $BACKUP_DIR/design-ai_$DATE.tar.gz -C $SOURCE_DIR .

# Ø¨Ú©â€ŒØ¢Ù¾ ÙØ§ÛŒÙ„â€ŒÙ‡Ø§ÛŒ Ú©Ø§Ù†ÙÛŒÚ¯
cp /etc/nginx/sites-available/design-ai $BACKUP_DIR/nginx_$DATE.conf
cp /var/www/design-ai/.env.local $BACKUP_DIR/env_$DATE.backup

# Ø­Ø°Ù Ø¨Ú©â€ŒØ¢Ù¾â€ŒÙ‡Ø§ÛŒ Ù‚Ø¯ÛŒÙ…ÛŒ (Ø¨ÛŒØ´ Ø§Ø² 30 Ø±ÙˆØ²)
find $BACKUP_DIR -name "*.tar.gz" -mtime +30 -delete
find $BACKUP_DIR -name "*.conf" -mtime +30 -delete
find $BACKUP_DIR -name "*.backup" -mtime +30 -delete

echo "Backup completed: $DATE"
```

### 2. Ø§Ù…Ù†ÛŒØª
```bash
# ØªÙ†Ø¸ÛŒÙ…Ø§Øª Ø§Ù…Ù†ÛŒØªÛŒ Nginx
sudo nano /etc/nginx/conf.d/security.conf
```

```nginx
# Security headers
add_header X-Frame-Options "SAMEORIGIN" always;
add_header X-XSS-Protection "1; mode=block" always;
add_header X-Content-Type-Options "nosniff" always;
add_header Referrer-Policy "no-referrer-when-downgrade" always;
add_header Content-Security-Policy "default-src 'self' http: https: data: blob: 'unsafe-inline'" always;

# Rate limiting
limit_req_zone $binary_remote_addr zone=api:10m rate=10r/s;
limit_req_zone $binary_remote_addr zone=login:10m rate=1r/s;

# Block bad bots
if ($http_user_agent ~* (bot|crawler|spider)) {
    return 403;
}
```

### 3. ÙØ§ÛŒØ±ÙˆØ§Ù„
```bash
# ØªÙ†Ø¸ÛŒÙ…Ø§Øª UFW
sudo ufw default deny incoming
sudo ufw default allow outgoing
sudo ufw allow ssh
sudo ufw allow 'Nginx Full'
sudo ufw allow 3000
sudo ufw enable
```

---

## ğŸ”§ Ø¹ÛŒØ¨â€ŒÛŒØ§Ø¨ÛŒ

### 1. Ù…Ø´Ú©Ù„Ø§Øª Ø±Ø§ÛŒØ¬

#### Ù…Ø´Ú©Ù„: Ù¾Ø±ÙˆÚ˜Ù‡ Ø§Ø¬Ø±Ø§ Ù†Ù…ÛŒâ€ŒØ´ÙˆØ¯
```bash
# Ø¨Ø±Ø±Ø³ÛŒ Ù„Ø§Ú¯â€ŒÙ‡Ø§
pm2 logs design-ai
tail -f /var/log/nginx/error.log

# Ø¨Ø±Ø±Ø³ÛŒ Ù¾ÙˆØ±Øª
sudo netstat -tlnp | grep :3000

# Ø¨Ø±Ø±Ø³ÛŒ process
ps aux | grep node
```

#### Ù…Ø´Ú©Ù„: Nginx Error 502
```bash
# Ø¨Ø±Ø±Ø³ÛŒ ÙˆØ¶Ø¹ÛŒØª PM2
pm2 status

# Ø¨Ø±Ø±Ø³ÛŒ Ú©Ø§Ù†ÙÛŒÚ¯ Nginx
sudo nginx -t

# Restart Ø³Ø±ÙˆÛŒØ³â€ŒÙ‡Ø§
pm2 restart design-ai
sudo systemctl restart nginx
```

#### Ù…Ø´Ú©Ù„: ÙØ§ÛŒÙ„â€ŒÙ‡Ø§ÛŒ Ø§Ø³ØªØ§ØªÛŒÚ© Ù„ÙˆØ¯ Ù†Ù…ÛŒâ€ŒØ´ÙˆÙ†Ø¯
```bash
# Ø¨Ø±Ø±Ø³ÛŒ permissions
ls -la /var/www/design-ai/.next/

# ØªÙ†Ø¸ÛŒÙ… permissions
sudo chown -R design-ai:design-ai /var/www/design-ai
sudo chmod -R 755 /var/www/design-ai/.next/
```

### 2. Ø¯Ø³ØªÙˆØ±Ø§Øª Ù…ÙÛŒØ¯
```bash
# Ø¨Ø±Ø±Ø³ÛŒ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø§Ø² Ù…Ù†Ø§Ø¨Ø¹
htop
df -h
free -h

# Ø¨Ø±Ø±Ø³ÛŒ Ù„Ø§Ú¯â€ŒÙ‡Ø§ÛŒ Ø³ÛŒØ³ØªÙ…
sudo journalctl -u nginx
sudo journalctl -u pm2-design-ai

# Ø¨Ø±Ø±Ø³ÛŒ Ø§ØªØµØ§Ù„Ø§Øª Ø´Ø¨Ú©Ù‡
sudo netstat -tlnp
sudo ss -tlnp

# Ø¨Ø±Ø±Ø³ÛŒ ÙØ§ÛŒÙ„â€ŒÙ‡Ø§ÛŒ Ø¨Ø§Ø²
lsof -i :3000
```

### 3. Performance Tuning
```bash
# ØªÙ†Ø¸ÛŒÙ…Ø§Øª Node.js
export NODE_OPTIONS="--max-old-space-size=2048"

# ØªÙ†Ø¸ÛŒÙ…Ø§Øª Nginx
sudo nano /etc/nginx/nginx.conf
# Ø§ÙØ²Ø§ÛŒØ´ worker_connections
# worker_connections 1024;
```

---

## ğŸ“ Ù¾Ø´ØªÛŒØ¨Ø§Ù†ÛŒ

### Ø§Ø·Ù„Ø§Ø¹Ø§Øª ØªÙ…Ø§Ø³
- **GitHub**: https://github.com/arashdm2020/Desing-AI
- **Documentation**: Ø§ÛŒÙ† ÙØ§ÛŒÙ„
- **Issues**: GitHub Issues

### Ú†Ú©â€ŒÙ„ÛŒØ³Øª Ø¯ÛŒÙ¾Ù„ÙˆÛŒ
- [ ] Node.js 18+ Ù†ØµØ¨ Ø´Ø¯Ù‡
- [ ] Git Ù†ØµØ¨ Ø´Ø¯Ù‡
- [ ] Nginx Ù†ØµØ¨ Ùˆ Ú©Ø§Ù†ÙÛŒÚ¯ Ø´Ø¯Ù‡
- [ ] PM2 Ù†ØµØ¨ Ø´Ø¯Ù‡
- [ ] Ù¾Ø±ÙˆÚ˜Ù‡ Ú©Ù„ÙˆÙ† Ø´Ø¯Ù‡
- [ ] Dependencies Ù†ØµØ¨ Ø´Ø¯Ù‡
- [ ] Build Ø§Ù†Ø¬Ø§Ù… Ø´Ø¯Ù‡
- [ ] Environment variables ØªÙ†Ø¸ÛŒÙ… Ø´Ø¯Ù‡
- [ ] PM2 process Ø§Ø¬Ø±Ø§ Ø´Ø¯Ù‡
- [ ] Nginx site ÙØ¹Ø§Ù„ Ø´Ø¯Ù‡
- [ ] SSL certificate Ù†ØµØ¨ Ø´Ø¯Ù‡
- [ ] Firewall ØªÙ†Ø¸ÛŒÙ… Ø´Ø¯Ù‡
- [ ] Ø¨Ú©â€ŒØ¢Ù¾ ØªÙ†Ø¸ÛŒÙ… Ø´Ø¯Ù‡
- [ ] Ù…Ø§Ù†ÛŒØªÙˆØ±ÛŒÙ†Ú¯ ÙØ¹Ø§Ù„ Ø´Ø¯Ù‡

---

## ğŸ¯ Ù†ØªÛŒØ¬Ù‡â€ŒÚ¯ÛŒØ±ÛŒ

Ø¨Ø§ Ø¯Ù†Ø¨Ø§Ù„ Ú©Ø±Ø¯Ù† Ø§ÛŒÙ† Ø±Ø§Ù‡Ù†Ù…Ø§ØŒ Ù¾Ø±ÙˆÚ˜Ù‡ ØªØ­Ù„ÛŒÙ„ Ù†Ù‚Ø´Ù‡â€ŒÙ‡Ø§ÛŒ Ù…Ø¹Ù…Ø§Ø±ÛŒ Ø´Ù…Ø§ Ø¨Ù‡ ØµÙˆØ±Øª Ú©Ø§Ù…Ù„ Ùˆ Ø§Ù…Ù† Ø±ÙˆÛŒ VPS Ø¯ÛŒÙ¾Ù„ÙˆÛŒ Ø®ÙˆØ§Ù‡Ø¯ Ø´Ø¯. ØªÙ…Ø§Ù… Ø¬Ù†Ø¨Ù‡â€ŒÙ‡Ø§ÛŒ Ø§Ù…Ù†ÛŒØªÛŒØŒ Ø¹Ù…Ù„Ú©Ø±Ø¯ Ùˆ Ù†Ú¯Ù‡Ø¯Ø§Ø±ÛŒ Ø¯Ø± Ù†Ø¸Ø± Ú¯Ø±ÙØªÙ‡ Ø´Ø¯Ù‡â€ŒØ§Ù†Ø¯.

**Ù†Ú©Ø§Øª Ù…Ù‡Ù…:**
1. Ù‡Ù…ÛŒØ´Ù‡ Ø§Ø² Ø¨Ú©â€ŒØ¢Ù¾ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ú©Ù†ÛŒØ¯
2. Ø¨Ù‡â€ŒØ±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒâ€ŒÙ‡Ø§ÛŒ Ø§Ù…Ù†ÛŒØªÛŒ Ø±Ø§ Ù†ØµØ¨ Ú©Ù†ÛŒØ¯
3. Ù„Ø§Ú¯â€ŒÙ‡Ø§ Ø±Ø§ Ù…Ø±ØªØ¨ Ø¨Ø±Ø±Ø³ÛŒ Ú©Ù†ÛŒØ¯
4. Ø¹Ù…Ù„Ú©Ø±Ø¯ Ø³ÛŒØ³ØªÙ… Ø±Ø§ Ù…Ø§Ù†ÛŒØªÙˆØ± Ú©Ù†ÛŒØ¯
5. SSL certificate Ø±Ø§ ØªÙ…Ø¯ÛŒØ¯ Ú©Ù†ÛŒØ¯

**Ø¯Ø³ØªØ±Ø³ÛŒ Ø¨Ù‡ Ù¾Ø±ÙˆÚ˜Ù‡:**
- **URL**: https://your-domain.com
- **Admin Panel**: PM2 Dashboard
- **Logs**: `/var/log/pm2/` Ùˆ `/var/log/nginx/` 